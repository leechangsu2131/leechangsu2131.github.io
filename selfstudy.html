<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>교사 셀프스터디 지원 플랫폼 - 나만의 수업 연구실</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header p {
            font-size: 1.2rem;
            color: #7f8c8d;
            margin-bottom: 20px;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: #2c3e50;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .nav-btn:hover, .nav-btn.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .content-section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.5s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .card:hover {
            transform: translateY(-5px);
        }

        .card h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
        }

        .analysis-result {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            border-left: 5px solid #667eea;
        }

        .reflection-prompt {
            background: rgba(102, 126, 234, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }

        .step {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #e1e8ed;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            font-weight: bold;
            color: #7f8c8d;
            position: relative;
        }

        .step.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .step.completed {
            background: #27ae60;
            color: white;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: #e1e8ed;
            border-radius: 5px;
            overflow: hidden;
            margin: 20px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #667eea, #764ba2);
            transition: width 0.5s ease;
            border-radius: 5px;
        }

        .checklist {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .checklist-item {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 10px;
            border-radius: 5px;
            transition: background 0.3s ease;
        }

        .checklist-item:hover {
            background: rgba(102, 126, 234, 0.1);
        }

        .checklist-item input[type="checkbox"] {
            margin-right: 15px;
            transform: scale(1.2);
        }

        .template-box {
            background: #f1f2f6;
            border: 2px dashed #667eea;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .template-box:hover {
            background: rgba(102, 126, 234, 0.1);
            transform: scale(1.02);
        }

        .data-visual {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .metric-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .metric-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .metric-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .tab-content {
            margin-top: 20px;
        }

        .tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 2px solid #e1e8ed;
        }

        .tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .tab.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        .quote {
            font-style: italic;
            color: #7f8c8d;
            text-align: center;
            padding: 20px;
            border-left: 4px solid #667eea;
            background: rgba(102, 126, 234, 0.05);
            margin: 20px 0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            margin: 20px 0;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .portfolio-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid #667eea;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .rubric-container {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .rubric-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #dee2e6;
        }

        .rubric-score {
            display: flex;
            gap: 10px;
        }

        .score-btn {
            padding: 5px 10px;
            border: 2px solid #667eea;
            background: white;
            color: #667eea;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .score-btn.selected {
            background: #667eea;
            color: white;
        }

        @media (max-width: 768px) {
            .navigation {
                flex-direction: column;
                align-items: center;
            }

            .nav-btn {
                width: 200px;
            }

            .card-grid {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 2rem;
            }

            .tabs {
                flex-direction: column;
            }

            table {
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>나만의 수업 연구실</h1>
            <p>아나스타샤 사마라스의 셀프스터디 방법론 기반 개인 맞춤형 수업 개선 플랫폼</p>
            <div class="quote">
                "모든 교사는 자기 교실의 최고 전문가가 될 잠재력을 지니고 있다"
            </div>
        </div>

        <div class="navigation">
            <button class="nav-btn active" onclick="showSection('intro')">시작하기</button>
            <button class="nav-btn" onclick="showSection('planning')">연구 설계</button>
            <button class="nav-btn" onclick="showSection('data')">자료 수집</button>
            <button class="nav-btn" onclick="showSection('analysis')">분석 도구</button>
            <button class="nav-btn" onclick="showSection('portfolio')">성장 포트폴리오</button>
            <button class="nav-btn" onclick="showSection('guide')">가이드</button>
        </div>

        <!-- 시작하기 섹션 -->
        <div class="content-section active" id="intro">
            <h2 class="section-title">셀프스터디란 무엇인가요?</h2>
            
            <div class="card-grid">
                <div class="card">
                    <h3>🔍 연구자로서의 교사</h3>
                    <p>외부 전문가의 평가에 의존하는 것이 아니라, 스스로 연구의 주체가 되어 자신의 실천 속에 담긴 지식과 신념을 탐구하는 과정입니다.</p>
                </div>
                
                <div class="card">
                    <h3>📊 증거 기반 성찰</h3>
                    <p>단순한 수업 후기를 넘어, 체계적으로 수집된 데이터를 바탕으로 자신의 수업을 객관적으로 분석합니다.</p>
                </div>
                
                <div class="card">
                    <h3>🎯 전문성 개발</h3>
                    <p>수업의 문제점 개선을 넘어, 교사의 실질적인 수업 능력 향상과 전문성 개발을 목표로 합니다.</p>
                </div>
            </div>

            <div class="reflection-prompt">
                <h4>시작 전 성찰 질문</h4>
                <ul>
                    <li>수업과 관련하여 최근 가장 신경 쓰고 있는 부분은 무엇인가요?</li>
                    <li>학생들이 어떤 부분에서 가장 어려움을 겪고 있나요?</li>
                    <li>나의 수업에서 꼭 개선하고 싶은 한 가지는 무엇인가요?</li>
                </ul>
            </div>

            <div class="step-indicator">
                <div class="step active">1</div>
                <div class="step">2</div>
                <div class="step">3</div>
                <div class="step">4</div>
                <div class="step">5</div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="btn" onclick="showSection('planning')">연구 설계 시작하기</button>
            </div>
        </div>

        <!-- 연구 설계 섹션 -->
        <div class="content-section" id="planning">
            <h2 class="section-title">연구 프로젝트 설계</h2>
            
            <div class="progress-bar">
                <div class="progress-fill" style="width: 20%;"></div>
            </div>

            <div class="tabs">
                <div class="tab active" onclick="showTab('question')">연구 질문</div>
                <div class="tab" onclick="showTab('plan')">연구 계획서</div>
                <div class="tab" onclick="showTab('ethics')">연구 윤리</div>
            </div>

            <div class="tab-content">
                <div id="question-tab" class="tab-panel active">
                    <h3>좋은 연구 질문 만들기</h3>
                    
                    <div class="form-group">
                        <label>1단계: 현재 고민 적어보기</label>
                        <textarea id="current-concern" rows="3" placeholder="예: 요즘 내 수업이 전반적으로 지루한 것 같아..."></textarea>
                    </div>

                    <div class="reflection-prompt">
                        <strong>질문 개선 가이드:</strong>
                        <ul>
                            <li><strong>탐구 가능성:</strong> 데이터를 통해 답을 찾을 수 있는가?</li>
                            <li><strong>명확성:</strong> 연구 범위가 명확히 한정되어 있는가?</li>
                            <li><strong>통제 가능성:</strong> 내 노력으로 변화를 시도할 수 있는가?</li>
                            <li><strong>개인적 의미:</strong> 나에게 중요하고 열정을 불러일으키는가?</li>
                        </ul>
                    </div>

                    <div class="form-group">
                        <label>2단계: 구체화된 연구 질문</label>
                        <textarea id="research-question" rows="3" placeholder="예: 온라인 협업 도구를 활용한 모둠 토의 활동에서 일부 학생의 참여가 저조한 문제를 어떻게 해결할 수 있는가?"></textarea>
                    </div>

                    <button class="btn" onclick="validateQuestion()">연구 질문 검증하기</button>
                    <div id="question-feedback"></div>
                </div>

                <div id="plan-tab" class="tab-panel">
                    <h3>연구 계획서 작성</h3>
                    
                    <div class="template-box" onclick="fillTemplate()">
                        <h4>📋 연구 계획서 템플릿 사용하기</h4>
                        <p>클릭하여 기본 템플릿을 불러오세요</p>
                    </div>

                    <div class="form-group">
                        <label>연구 주제</label>
                        <input type="text" id="research-topic" placeholder="예: 상호작용적 피드백을 통한 학생의 서술형 답안 개선">
                    </div>

                    <div class="form-group">
                        <label>연구 목표</label>
                        <textarea id="research-goal" rows="3" placeholder="예: 동료 피드백 활동 후, 학생들이 작성한 서술형 답안에서 '주장-근거-상술'의 논리 구조를 갖춘 비율을 50% 이상으로 높인다."></textarea>
                    </div>

                    <div class="form-group">
                        <label>성공 지표</label>
                        <textarea id="success-criteria" rows="4" placeholder="1. 사전/사후 평가 답안의 루브릭 점수 평균 변화
2. 피드백 활동에 대한 학생들의 설문조사 결과
3. 수업 성찰 일지에 기록된 학생들의 참여도 변화"></textarea>
                    </div>

                    <div class="form-group">
                        <label>연구 기간</label>
                        <input type="text" id="research-period" placeholder="예: 4월 한 달간, 매주 수요일 3교시 국어 수업">
                    </div>

                    <button class="btn" onclick="savePlan()">계획서 저장</button>
                </div>

                <div id="ethics-tab" class="tab-panel">
                    <h3>연구 윤리 체크리스트</h3>
                    
                    <div class="checklist">
                        <div class="checklist-item">
                            <input type="checkbox" id="privacy">
                            <label for="privacy">학생들의 개인정보를 익명으로 처리하겠습니다</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="purpose">
                            <label for="purpose">수집된 자료는 수업 개선 목적으로만 사용하겠습니다</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="evaluation">
                            <label for="evaluation">연구 결과를 학생 평가에 직접 반영하지 않겠습니다</label>
                        </div>
                        <div class="checklist-item">
                            <input type="checkbox" id="self-care">
                            <label for="self-care">자기 성찰 과정에서 과도한 자책을 피하겠습니다</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 자료 수집 섹션 -->
        <div class="content-section" id="data">
            <h2 class="section-title">수업의 증거 수집</h2>
            
            <div class="progress-bar">
                <div class="progress-fill" style="width: 60%;"></div>
            </div>

            <div class="card-grid">
                <div class="card">
                    <h3>📝 수업 성찰 일지</h3>
                    <p><strong>나의 의도</strong>를 기록합니다</p>
                    <div class="form-group">
                        <label>오늘의 수업 성찰</label>
                        <textarea id="reflection-log" rows="4" placeholder="수업 전 의도 → 실제 진행 → 수업 후 성찰"></textarea>
                    </div>
                    <button class="btn btn-secondary" onclick="saveReflection()">저장</button>
                </div>

                <div class="card">
                    <h3>📊 학생 결과물 분석</h3>
                    <p><strong>학습의 영향</strong>을 확인합니다</p>
                    <div class="form-group">
                        <label>분석 결과 기록</label>
                        <textarea id="student-work" rows="4" placeholder="양적 분석: 정답률, 오답 유형
질적 분석: 사고 과정, 창의성"></textarea>
                    </div>
                    <button class="btn btn-secondary" onclick="saveAnalysis()">저장</button>
                </div>

                <div class="card">
                    <h3>🎥 수업 녹음/녹화</h3>
                    <p><strong>실제 모습</strong>을 포착합니다</p>
                    <div class="form-group">
                        <label>관찰 포인트</label>
                        <select id="observation-focus">
                            <option>발문 유형 (개방형/폐쇄형)</option>
                            <option>학생 질문에 대한 반응</option>
                            <option>특정 학생과의 상호작용 시간</option>
                            <option>제스처와 목소리 톤의 영향</option>
                        </select>
                    </div>
                    <button class="btn btn-secondary" onclick="saveObservation()">기록 저장</button>
                </div>
            </div>

            <div class="reflection-prompt">
                <h4>자료 수집 가이드</h4>
                <p><strong>삼각측량 원리:</strong> 서로 다른 세 가지 관점에서 수업을 조망하세요</p>
                <ul>
                    <li><strong>의도(Intention):</strong> 내가 계획한 것</li>
                    <li><strong>실행(Reality):</strong> 실제로 일어난 것</li>
                    <li><strong>영향(Impact):</strong> 학생에게 미친 결과</li>
                </ul>
            </div>
        </div>

        <!-- 분석 도구 섹션 -->
        <div class="content-section" id="analysis">
            <h2 class="section-title">데이터 속에서 의미 찾기</h2>
            
            <div class="progress-bar">
                <div class="progress-fill" style="width: 80%;"></div>
            </div>

            <div class="tabs">
                <div class="tab active" onclick="showAnalysisTab('triangulation')">삼각측량 분석</div>
                <div class="tab" onclick="showAnalysisTab('reflection')">구조화된 성찰</div>
                <div class="tab" onclick="showAnalysisTab('coding')">코딩 분석</div>
            </div>

            <div class="tab-content">
                <div id="triangulation-tab" class="tab-panel active">
                    <h3>데이터 삼각측량 분석 매트릭스</h3>
                    
                    <div style="overflow-x: auto;">
                        <table id="triangulation-table">
                            <thead>
                                <tr>
                                    <th>수업 장면/사건</th>
                                    <th>나의 의도</th>
                                    <th>실제 실행</th>
                                    <th>학생에게 미친 영향</th>
                                    <th>불일치 지점</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><input type="text" placeholder="예: 핵심 개념 '변수' 설명" style="width: 100%; border: none; padding: 5px;"></td>
                                    <td><textarea rows="2" placeholder="의도한 바" style="width: 100%; border: none; resize: vertical;"></textarea></td>
                                    <td><textarea rows="2" placeholder="실제 진행된 모습" style="width: 100%; border: none; resize: vertical;"></textarea></td>
                                    <td><textarea rows="2" placeholder="학생들의 반응/결과" style="width: 100%; border: none; resize: vertical;"></textarea></td>
                                    <td><textarea rows="2" placeholder="발견된 간극과 통찰" style="width: 100%; border: none; resize: vertical;"></textarea></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    
                    <button class="btn" onclick="addTriangulationRow()">행 추가</button>
                    <button class="btn" onclick="analyzeTriangulation()">분석 결과 생성</button>
                    
                    <div id="triangulation-result"></div>
                </div>

                <div id="reflection-tab" class="tab-panel">
                    <h3>3단계 구조화된 성찰</h3>
                    
                    <div class="card">
                        <h4>2단계: 해석 (Why?)</h4>
                        <div class="reflection-prompt">
                            <ul>
                                <li>나는 왜 그 순간에 그런 발문을 던졌을까?</li>
                                <li>학생들의 그러한 반응이 의미하는 것은 무엇인가?</li>
                                <li>그 행동의 기저에 깔린 나의 교육적 신념은 무엇인가?</li>
                            </ul>
                        </div>
                        <textarea id="step2-interpretation" rows="4" placeholder="행동의 의도와 의미를 파악해보세요"></textarea>
                    </div>

                    <div class="card">
                        <h4>3단계: 평가 및 대안 (So what? Now what?)</h4>
                        <div class="reflection-prompt">
                            <ul>
                                <li>나의 의도는 학생들에게 효과적으로 전달되었는가?</li>
                                <li>수업 목표는 충분히 달성되었는가?</li>
                                <li>다음 수업에서는 무엇을 다르게 시도해볼 것인가?</li>
                            </ul>
                        </div>
                        <textarea id="step3-evaluation" rows="4" placeholder="성과 평가와 개선 방안을 작성하세요"></textarea>
                    </div>

                    <button class="btn" onclick="generateReflectionSummary()">성찰 요약 생성</button>
                    <div id="reflection-summary"></div>
                </div>

                <div id="coding-tab" class="tab-panel">
                    <h3>질적 데이터 코딩 분석</h3>
                    
                    <div class="form-group">
                        <label>분석할 텍스트 (수업 관찰 노트, 학생 면담 등)</label>
                        <textarea id="coding-text" rows="6" placeholder="예: '학생 A가 수학 문제를 풀 때 계속 연필을 돌리며 주변을 두리번거렸다. 힌트를 주자 갑자기 밝은 표정으로 문제에 집중하기 시작했다.'"></textarea>
                    </div>

                    <div class="reflection-prompt">
                        <h4>코딩 가이드</h4>
                        <p><strong>1차 코딩 (Open Coding):</strong> 텍스트에서 주요 개념과 패턴을 찾아 라벨링</p>
                        <p><strong>2차 코딩 (Axial Coding):</strong> 관련된 코드들을 범주화하고 연결</p>
                        <p><strong>3차 코딩 (Selective Coding):</strong> 핵심 테마와 이론 도출</p>
                    </div>

                    <div class="card">
                        <h4>발견된 코드</h4>
                        <div id="codes-container">
                            <button class="btn btn-secondary" onclick="addCode()">새 코드 추가</button>
                        </div>
                    </div>

                    <button class="btn" onclick="analyzeCoding()">코딩 분석 실행</button>
                    <div id="coding-result"></div>
                </div>
            </div>
        </div>

        <!-- 성장 포트폴리오 섹션 -->
        <div class="content-section" id="portfolio">
            <h2 class="section-title">나의 성장 포트폴리오</h2>
            
            <div class="progress-bar">
                <div class="progress-fill" style="width: 100%;"></div>
            </div>

            <div class="data-visual">
                <div class="metric-card">
                    <div class="metric-number" id="total-reflections">12</div>
                    <div class="metric-label">총 성찰 기록</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number" id="completed-cycles">3</div>
                    <div class="metric-label">완료된 연구 사이클</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number" id="improvement-areas">5</div>
                    <div class="metric-label">개선 영역</div>
                </div>
                <div class="metric-card">
                    <div class="metric-number" id="growth-score">78%</div>
                    <div class="metric-label">성장 지수</div>
                </div>
            </div>

            <div class="tabs">
                <div class="tab active" onclick="showPortfolioTab('timeline')">성장 타임라인</div>
                <div class="tab" onclick="showPortfolioTab('achievements')">성취 기록</div>
                <div class="tab" onclick="showPortfolioTab('rubric')">자기 평가</div>
                <div class="tab" onclick="showPortfolioTab('export')">포트폴리오 내보내기</div>
            </div>

            <div class="tab-content">
                <div id="timeline-tab" class="tab-panel active">
                    <h3>나의 교사 성장 여정</h3>
                    
                    <div class="portfolio-item">
                        <h4>🌱 2024년 3월 - 첫 번째 셀프스터디 시작</h4>
                        <p><strong>연구 주제:</strong> 학생 참여도 향상을 위한 질문법 개선</p>
                        <p><strong>주요 발견:</strong> 개방형 질문 비율을 30%에서 60%로 늘렸을 때 학생 발언 시간이 2배 증가</p>
                        <p><strong>적용한 변화:</strong> 수업 도입부에 '만약 ~라면?' 형태의 가설적 질문 도입</p>
                    </div>

                    <div class="portfolio-item">
                        <h4>🌿 2024년 5월 - 두 번째 연구 사이클</h4>
                        <p><strong>연구 주제:</strong> 피드백의 질적 개선을 통한 학습 동기 증진</p>
                        <p><strong>주요 발견:</strong> 구체적 행동 중심 피드백이 일반적 칭찬보다 3배 효과적</p>
                        <p><strong>적용한 변화:</strong> '잘했어' → '네가 예시를 든 방식이 다른 친구들 이해를 도왔어'</p>
                    </div>

                    <div class="portfolio-item">
                        <h4>🌳 2024년 7월 - 현재 진행 중</h4>
                        <p><strong>연구 주제:</strong> 협력학습에서의 역할 분담 최적화</p>
                        <p><strong>현재 상황:</strong> 데이터 수집 단계, 3주차 관찰 완료</p>
                        <p><strong>임시 발견:</strong> 역할 순환제 도입 후 소극적 학생의 발언 빈도 증가</p>
                    </div>

                    <button class="btn" onclick="addTimelineItem()">새 기록 추가</button>
                </div>

                <div id="achievements-tab" class="tab-panel">
                    <h3>성취 및 인사이트 모음</h3>

                    <div class="card-grid">
                        <div class="card">
                            <h3>🏆 주요 성취</h3>
                            <ul>
                                <li>학생 수업 만족도 20% 향상 (4.1 → 4.9)</li>
                                <li>자기주도학습 시간 평균 15분 증가</li>
                                <li>동료 교사 3명에게 연구 결과 공유</li>
                                <li>교내 수업 공개에서 우수 평가 획득</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>💡 핵심 인사이트</h3>
                            <ul>
                                <li>"침묵도 하나의 참여 방식이다"</li>
                                <li>"학생의 오답에서 더 많은 것을 배운다"</li>
                                <li>"완벽한 수업보다 정직한 반성이 값지다"</li>
                                <li>"작은 변화가 큰 차이를 만든다"</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>📚 읽은 전문서적</h3>
                            <ul>
                                <li>교실 속 실행연구 (사마라스)</li>
                                <li>수업의 발견 (존 듀이)</li>
                                <li>성찰적 교사 (도널드 쇤)</li>
                                <li>교육과정-수업-평가의 일체화</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="rubric-tab" class="tab-panel">
                    <h3>교사 전문성 자기 평가</h3>

                    <div class="rubric-container">
                        <div class="rubric-item">
                            <span><strong>수업 설계 및 계획</strong></span>
                            <div class="rubric-score">
                                <button class="score-btn" onclick="selectScore(this, 'design', 1)">1</button>
                                <button class="score-btn" onclick="selectScore(this, 'design', 2)">2</button>
                                <button class="score-btn" onclick="selectScore(this, 'design', 3)">3</button>
                                <button class="score-btn selected" onclick="selectScore(this, 'design', 4)">4</button>
                                <button class="score-btn" onclick="selectScore(this, 'design', 5)">5</button>
                            </div>
                        </div>

                        <div class="rubric-item">
                            <span><strong>학습자 이해 및 소통</strong></span>
                            <div class="rubric-score">
                                <button class="score-btn" onclick="selectScore(this, 'communication', 1)">1</button>
                                <button class="score-btn" onclick="selectScore(this, 'communication', 2)">2</button>
                                <button class="score-btn selected" onclick="selectScore(this, 'communication', 3)">3</button>
                                <button class="score-btn" onclick="selectScore(this, 'communication', 4)">4</button>
                                <button class="score-btn" onclick="selectScore(this, 'communication', 5)">5</button>
                            </div>
                        </div>

                        <div class="rubric-item">
                            <span><strong>수업 실행 및 관리</strong></span>
                            <div class="rubric-score">
                                <button class="score-btn" onclick="selectScore(this, 'execution', 1)">1</button>
                                <button class="score-btn" onclick="selectScore(this, 'execution', 2)">2</button>
                                <button class="score-btn" onclick="selectScore(this, 'execution', 3)">3</button>
                                <button class="score-btn selected" onclick="selectScore(this, 'execution', 4)">4</button>
                                <button class="score-btn" onclick="selectScore(this, 'execution', 5)">5</button>
                            </div>
                        </div>

                        <div class="rubric-item">
                            <span><strong>평가 및 피드백</strong></span>
                            <div class="rubric-score">
                                <button class="score-btn" onclick="selectScore(this, 'assessment', 1)">1</button>
                                <button class="score-btn" onclick="selectScore(this, 'assessment', 2)">2</button>
                                <button class="score-btn" onclick="selectScore(this, 'assessment', 3)">3</button>
                                <button class="score-btn" onclick="selectScore(this, 'assessment', 4)">4</button>
                                <button class="score-btn selected" onclick="selectScore(this, 'assessment', 5)">5</button>
                            </div>
                        </div>

                        <div class="rubric-item">
                            <span><strong>성찰 및 전문성 개발</strong></span>
                            <div class="rubric-score">
                                <button class="score-btn" onclick="selectScore(this, 'reflection', 1)">1</button>
                                <button class="score-btn" onclick="selectScore(this, 'reflection', 2)">2</button>
                                <button class="score-btn" onclick="selectScore(this, 'reflection', 3)">3</button>
                                <button class="score-btn selected" onclick="selectScore(this, 'reflection', 4)">4</button>
                                <button class="score-btn" onclick="selectScore(this, 'reflection', 5)">5</button>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>종합 성찰</label>
                        <textarea id="overall-reflection" rows="4" placeholder="이번 학기 나의 성장을 종합적으로 평가해보세요..."></textarea>
                    </div>

                    <button class="btn" onclick="saveRubricEvaluation()">평가 결과 저장</button>
                </div>

                <div id="export-tab" class="tab-panel">
                    <h3>포트폴리오 공유 및 내보내기</h3>

                    <div class="card-grid">
                        <div class="card">
                            <h3>📄 PDF 리포트 생성</h3>
                            <p>연구 결과와 성찰 내용을 전문적인 리포트 형태로 생성합니다.</p>
                            <button class="btn" onclick="generatePDFReport()">PDF 다운로드</button>
                        </div>

                        <div class="card">
                            <h3>📊 데이터 시각화</h3>
                            <p>성장 과정과 주요 지표를 차트와 그래프로 표현합니다.</p>
                            <button class="btn" onclick="createVisualization()">차트 생성</button>
                        </div>

                        <div class="card">
                            <h3>🤝 동료와 공유</h3>
                            <p>연구 결과를 동료 교사들과 공유하고 피드백을 받습니다.</p>
                            <button class="btn" onclick="shareWithColleagues()">공유 링크 생성</button>
                        </div>
                    </div>

                    <div id="export-result"></div>
                </div>
            </div>
        </div>

        <!-- 가이드 섹션 -->
        <div class="content-section" id="guide">
            <h2 class="section-title">셀프스터디 완전 가이드</h2>

            <div class="tabs">
                <div class="tab active" onclick="showGuideTab('methodology')">방법론</div>
                <div class="tab" onclick="showGuideTab('tips')">실천 팁</div>
                <div class="tab" onclick="showGuideTab('resources')">참고 자료</div>
                <div class="tab" onclick="showGuideTab('faq')">FAQ</div>
            </div>

            <div class="tab-content">
                <div id="methodology-tab" class="tab-panel active">
                    <h3>사마라스의 셀프스터디 5단계</h3>

                    <div class="card-grid">
                        <div class="card">
                            <h3>1단계: 문제 의식</h3>
                            <p><strong>핵심 질문:</strong> "내가 정말 알고 싶은 것은 무엇인가?"</p>
                            <ul>
                                <li>수업에서 느끼는 불편함이나 궁금증 찾기</li>
                                <li>학생들의 학습 어려움 관찰</li>
                                <li>나의 교육 철학과 실제 간의 불일치 점검</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>2단계: 연구 설계</h3>
                            <p><strong>핵심 질문:</strong> "어떻게 체계적으로 탐구할 것인가?"</p>
                            <ul>
                                <li>구체적이고 답할 수 있는 연구 질문 형성</li>
                                <li>데이터 수집 방법 계획</li>
                                <li>연구 윤리 고려사항 점검</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>3단계: 실행 및 관찰</h3>
                            <p><strong>핵심 질문:</strong> "실제로 무엇이 일어나고 있는가?"</p>
                            <ul>
                                <li>새로운 교수 전략 시도</li>
                                <li>체계적인 데이터 수집</li>
                                <li>예상치 못한 결과에 대한 개방성</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>4단계: 분석 및 해석</h3>
                            <p><strong>핵심 질문:</strong> "이 데이터가 내게 말하는 바는 무엇인가?"</p>
                            <ul>
                                <li>삼각측량을 통한 다각도 분석</li>
                                <li>패턴과 예외 사례 발견</li>
                                <li>이론과 실천의 연결</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>5단계: 성찰 및 재계획</h3>
                            <p><strong>핵심 질문:</strong> "이제 나는 무엇을 다르게 할 것인가?"</p>
                            <ul>
                                <li>학습한 내용의 의미 구성</li>
                                <li>교육 실천의 변화 계획</li>
                                <li>새로운 연구 질문 발굴</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>순환적 과정</h3>
                            <p><strong>핵심 개념:</strong> "배움은 끝나지 않는다"</p>
                            <ul>
                                <li>한 사이클의 끝은 새로운 시작</li>
                                <li>점진적이고 누적적인 개선</li>
                                <li>지속가능한 전문성 개발</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="tips-tab" class="tab-panel">
                    <h3>성공적인 셀프스터디를 위한 실천 팁</h3>

                    <div class="reflection-prompt">
                        <h4>🎯 연구 질문 작성 팁</h4>
                        <ul>
                            <li><strong>구체적으로:</strong> "수업이 지루하다" → "토론 활동에서 일부 학생이 참여하지 않는 이유는 무엇인가?"</li>
                            <li><strong>실행 가능하게:</strong> 내 교실에서 실제로 시도해볼 수 있는 범위로 한정</li>
                            <li><strong>측정 가능하게:</strong> 변화를 확인할 수 있는 지표 포함</li>
                            <li><strong>의미 있게:</strong> 나와 학생들에게 진정으로 중요한 문제</li>
                        </ul>
                    </div>

                    <div class="reflection-prompt">
                        <h4>📊 데이터 수집 팁</h4>
                        <ul>
                            <li><strong>다양한 관점:</strong> 내 관찰, 학생 결과물, 동료 의견 등 삼각측량</li>
                            <li><strong>일상적 통합:</strong> 특별한 도구보다는 수업 중 자연스러운 관찰</li>
                            <li><strong>지속가능성:</strong> 너무 복잡하면 오래가지 못함</li>
                            <li><strong>익명성 보장:</strong> 학생들의 사생활과 평가 분리</li>
                        </ul>
                    </div>

                    <div class="reflection-prompt">
                        <h4>🧠 분석 및 성찰 팁</h4>
                        <ul>
                            <li><strong>비판적 거리두기:</strong> 자책보다는 객관적 관찰</li>
                            <li><strong>패턴 찾기:</strong> 개별 사건보다 반복되는 경향성 주목</li>
                            <li><strong>예외 탐구:</strong> 예상과 다른 결과에서 더 많이 배우기</li>
                            <li><strong>이론과 연결:</strong> 경험을 교육학적 지식과 연결</li>
                        </ul>
                    </div>

                    <div class="reflection-prompt">
                        <h4>⏰ 시간 관리 팁</h4>
                        <ul>
                            <li><strong>작게 시작:</strong> 한 번에 하나의 작은 변화</li>
                            <li><strong>루틴화:</strong> 매일 10분씩 성찰 시간 확보</li>
                            <li><strong>기록 습관:</strong> 간단한 메모라도 꾸준히</li>
                            <li><strong>완벽주의 금물:</strong> 70% 완성도로도 충분한 가치</li>
                        </ul>
                    </div>
                </div>

                <div id="resources-tab" class="tab-panel">
                    <h3>추천 도서 및 자료</h3>

                    <div class="card-grid">
                        <div class="card">
                            <h3>📚 필독 도서</h3>
                            <ul>
                                <li><strong>Self-Study Teacher Research</strong> (Samaras, 2011)</li>
                                <li><strong>교실 속 실행연구</strong> (사마라스, 한국어판)</li>
                                <li><strong>성찰적 실천가</strong> (도널드 쇤)</li>
                                <li><strong>교사, 수업에서 나를 만나다</strong> (파커 팔머)</li>
                                <li><strong>가르칠 수 있는 용기</strong> (파커 팔머)</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>🌐 온라인 자료</h3>
                            <ul>
                                <li><a href="#" onclick="return false;">Self-Study of Teacher Education Practices (S-STEP)</a></li>
                                <li><a href="#" onclick="return false;">Action Research International Journal</a></li>
                                <li><a href="#" onclick="return false;">교육부 교원연수 지원센터</a></li>
                                <li><a href="#" onclick="return false;">한국교원대학교 교육연구원</a></li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>🎥 추천 영상</h3>
                            <ul>
                                <li>"What is Self-Study?" (Samaras, YouTube)</li>
                                <li>"Reflective Teaching Practices" (Edutopia)</li>
                                <li>"Action Research in Education" (온라인 강의)</li>
                                <li>"교실 속 작은 실험" (EBS 교육 다큐)</li>
                            </ul>
                        </div>

                        <div class="card">
                            <h3>🔧 유용한 도구</h3>
                            <ul>
                                <li><strong>Evernote/Notion:</strong> 성찰 일지 작성</li>
                                <li><strong>Google Forms:</strong> 간단한 학생 설문</li>
                                <li><strong>OBS Studio:</strong> 수업 녹화 (무료)</li>
                                <li><strong>Mendeley:</strong> 연구 자료 관리</li>
                                <li><strong>Canva:</strong> 데이터 시각화</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="faq-tab" class="tab-panel">
                    <h3>자주 묻는 질문</h3>

                    <div class="card">
                        <h4>Q: 셀프스터디와 일반적인 수업 성찰의 차이점은 무엇인가요?</h4>
                        <p>A: 일반적인 성찰은 주관적 느낌에 의존하지만, 셀프스터디는 체계적으로 수집된 데이터를 바탕으로 합니다. 또한 단순한 문제 해결을 넘어 교사의 전문성 개발과 이론 형성을 목표로 합니다.</p>
                    </div>

                    <div class="card">
                        <h4>Q: 바쁜 일상 속에서 언제 셀프스터디를 할 수 있나요?</h4>
                        <p>A: 별도의 시간을 내기보다는 일상적인 수업 활동에 통합하는 것이 중요합니다. 수업 후 5분간의 간단한 메모, 점심시간을 이용한 학생 관찰, 퇴근길 음성 녹음 등을 활용해보세요.</p>
                    </div>

                    <div class="card">
                        <h4>Q: 연구 결과가 기대와 다르거나 실패했다면 어떻게 해야 하나요?</h4>
                        <p>A: '실패'는 셀프스터디에서 가장 귀중한 학습의 기회입니다. 예상과 다른 결과야말로 새로운 통찰의 원천이며, 이를 통해 더 깊은 자기 이해에 도달할 수 있습니다.</p>
                    </div>

                    <div class="card">
                        <h4>Q: 학생들의 동의 없이 수업을 관찰하고 기록해도 되나요?</h4>
                        <p>A: 개인정보가 식별되지 않는 일반적인 수업 관찰은 가능하지만, 녹음/녹화나 개별 학생에 대한 구체적인 기록은 사전 동의가 필요합니다. 항상 연구 윤리를 우선시해야 합니다.</p>
                    </div>

                    <div class="card">
                        <h4>Q: 동료 교사들과 연구 결과를 공유하는 것이 부담스럽습니다.</h4>
                        <p>A: 처음에는 가까운 동료 한두 명과의 비공식적 대화로 시작해보세요. 완벽한 결과를 보여주려 하지 말고, 함께 고민하고 배우는 과정으로 접근하면 됩니다.</p>
                    </div>

                    <div class="card">
                        <h4>Q: 몇 번의 사이클을 거쳐야 의미 있는 변화를 볼 수 있나요?</h4>
                        <p>A: 개인차가 있지만, 보통 3-4번의 완전한 사이클을 거치면 패턴을 발견하고 지속가능한 변화를 만들어낼 수 있습니다. 중요한 것은 횟수보다 각 사이클에서의 깊이 있는 성찰입니다.</p>
                    </div>

                    <div class="card">
                        <h4>Q: 관리자나 장학사의 평가와 셀프스터디 결과가 다르다면?</h4>
                        <p>A: 이는 자연스러운 현상입니다. 외부 평가는 일시적 관찰에 기반하지만, 셀프스터디는 지속적인 자기 관찰의 결과입니다. 두 관점을 모두 성장의 자료로 활용하되, 자신의 전문적 판단을 신뢰하세요.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 전역 변수
        let currentSection = 'intro';
        let currentTab = {};
        let triangulationRowCount = 1;
        let codeCount = 0;

        // 섹션 전환 함수
        function showSection(sectionId) {
            // 모든 섹션 숨기기
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // 모든 네비게이션 버튼 비활성화
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // 선택된 섹션 표시
            document.getElementById(sectionId).classList.add('active');
            event.target.classList.add('active');
            
            currentSection = sectionId;
            
            // 진행 단계 업데이트
            updateProgress();
        }

        // 탭 전환 함수 (연구 설계 섹션)
        function showTab(tabId) {
            const parentSection = event.target.closest('.content-section');
            
            // 모든 탭 비활성화
            parentSection.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // 모든 탭 패널 숨기기
            parentSection.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // 선택된 탭 활성화
            event.target.classList.add('active');
            document.getElementById(tabId + '-tab').classList.add('active');
        }

        // 분석 도구 섹션 탭 전환
        function showAnalysisTab(tabId) {
            const analysisSection = document.getElementById('analysis');
            
            analysisSection.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            analysisSection.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            event.target.classList.add('active');
            document.getElementById(tabId + '-tab').classList.add('active');
        }

        // 포트폴리오 섹션 탭 전환
        function showPortfolioTab(tabId) {
            const portfolioSection = document.getElementById('portfolio');
            
            portfolioSection.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            portfolioSection.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            event.target.classList.add('active');
            document.getElementById(tabId + '-tab').classList.add('active');
        }

        // 가이드 섹션 탭 전환
        function showGuideTab(tabId) {
            const guideSection = document.getElementById('guide');
            
            guideSection.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            guideSection.querySelectorAll('.tab-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            event.target.classList.add('active');
            document.getElementById(tabId + '-tab').classList.add('active');
        }

        // 진행 상황 업데이트
        function updateProgress() {
            const steps = document.querySelectorAll('.step');
            const progressFill = document.querySelector('.progress-fill');
            
            let currentStep = 1;
            switch(currentSection) {
                case 'intro': currentStep = 1; break;
                case 'planning': currentStep = 2; break;
                case 'data': currentStep = 3; break;
                case 'analysis': currentStep = 4; break;
                case 'portfolio': currentStep = 5; break;
            }
            
            steps.forEach((step, index) => {
                step.classList.remove('active', 'completed');
                if (index + 1 < currentStep) {
                    step.classList.add('completed');
                } else if (index + 1 === currentStep) {
                    step.classList.add('active');
                }
            });
            
            if (progressFill) {
                progressFill.style.width = (currentStep * 20) + '%';
            }
        }

        // 연구 질문 검증
        function validateQuestion() {
            const concern = document.getElementById('current-concern').value;
            const question = document.getElementById('research-question').value;
            const feedback = document.getElementById('question-feedback');
            
            if (!question.trim()) {
                feedback.innerHTML = '<div class="analysis-result" style="border-left-color: #e74c3c;"><h4>⚠️ 연구 질문을 입력해주세요</h4></div>';
                return;
            }
            
            let score = 0;
            let suggestions = [];
            
            // 구체성 검사
            if (question.length > 20 && question.includes('어떻게') || question.includes('무엇')) {
                score += 25;
            } else {
                suggestions.push('더 구체적인 질문으로 다듬어보세요. "어떻게", "무엇을", "왜" 등을 활용해보세요.');
            }
            
            // 측정 가능성 검사
            if (question.includes('향상') || question.includes('개선') || question.includes('증진') || question.includes('해결')) {
                score += 25;
            } else {
                suggestions.push('변화를 측정할 수 있는 표현을 포함해보세요.');
            }
            
            // 실행 가능성 검사
            if (question.length < 200) {
                score += 25;
            } else {
                suggestions.push('연구 범위를 좀 더 구체적으로 한정해보세요.');
            }
            
            // 개인적 의미 검사
            if (concern.trim() && question.toLowerCase().includes(concern.toLowerCase().split(' ')[0])) {
                score += 25;
            } else {
                suggestions.push('처음 고민과 연구 질문이 연결되도록 해보세요.');
            }
            
            let color = '#e74c3c';
            let grade = 'D';
            if (score >= 75) { color = '#27ae60'; grade = 'A'; }
            else if (score >= 50) { color = '#f39c12'; grade = 'B'; }
            else if (score >= 25) { color = '#e67e22'; grade = 'C'; }
            
            feedback.innerHTML = `
                <div class="analysis-result" style="border-left-color: ${color};">
                    <h4>📊 연구 질문 평가 결과: ${grade}등급 (${score}점)</h4>
                    ${suggestions.length > 0 ? '<h5>개선 제안:</h5><ul>' + suggestions.map(s => '<li>' + s + '</li>').join('') + '</ul>' : '<p>✅ 훌륭한 연구 질문입니다!</p>'}
                </div>
            `;
        }

        // 템플릿 채우기
        function fillTemplate() {
            document.getElementById('research-topic').value = '상호작용적 피드백을 통한 학생의 서술형 답안 개선';
            document.getElementById('research-goal').value = '동료 피드백 활동 후, 학생들이 작성한 서술형 답안에서 주장-근거-상술의 논리 구조를 갖춘 비율을 50% 이상으로 높인다.';
            document.getElementById('success-criteria').value = `1. 사전/사후 평가 답안의 루브릭 점수 평균 변화
2. 피드백 활동에 대한 학생들의 설문조사 결과
3. 수업 성찰 일지에 기록된 학생들의 참여도 변화`;
            document.getElementById('research-period').value = '4월 한 달간, 매주 수요일 3교시 국어 수업';
        }

        // 계획서 저장
        function savePlan() {
            const topic = document.getElementById('research-topic').value;
            if (topic.trim()) {
                alert('연구 계획서가 저장되었습니다!');
            } else {
                alert('연구 주제를 입력해주세요.');
            }
        }

        // 성찰 저장
        function saveReflection() {
            const reflection = document.getElementById('reflection-log').value;
            if (reflection.trim()) {
                alert('수업 성찰이 저장되었습니다!');
            } else {
                alert('성찰 내용을 입력해주세요.');
            }
        }

        // 분석 저장
        function saveAnalysis() {
            const analysis = document.getElementById('student-work').value;
            if (analysis.trim()) {
                alert('분석 결과가 저장되었습니다!');
            } else {
                alert('분석 내용을 입력해주세요.');
            }
        }

        // 관찰 저장
        function saveObservation() {
            alert('관찰 기록이 저장되었습니다!');
        }

        // 삼각측량 행 추가
        function addTriangulationRow() {
            const table = document.getElementById('triangulation-table').getElementsByTagName('tbody')[0];
            const newRow = table.insertRow();
            newRow.innerHTML = `
                <td><input type="text" placeholder="수업 장면/사건" style="width: 100%; border: none; padding: 5px;"></td>
                <td><textarea rows="2" placeholder="의도한 바" style="width: 100%; border: none; resize: vertical;"></textarea></td>
                <td><textarea rows="2" placeholder="실제 진행된 모습" style="width: 100%; border: none; resize: vertical;"></textarea></td>
                <td><textarea rows="2" placeholder="학생들의 반응/결과" style="width: 100%; border: none; resize: vertical;"></textarea></td>
                <td><textarea rows="2" placeholder="발견된 간극과 통찰" style="width: 100%; border: none; resize: vertical;"></textarea></td>
            `;
            triangulationRowCount++;
        }

        // 삼각측량 분석
        function analyzeTriangulation() {
            const result = document.getElementById('triangulation-result');
            result.innerHTML = `
                <div class="analysis-result">
                    <h4>🔍 삼각측량 분석 결과</h4>
                    <h5>주요 발견 사항:</h5>
                    <ul>
                        <li><strong>의도와 실행의 일치도:</strong> 85% - 대체로 계획한 대로 수업이 진행됨</li>
                        <li><strong>예상치 못한 학생 반응:</strong> 3건 발견 - 추가 탐구 필요</li>
                        <li><strong>개선이 필요한 영역:</strong> 발문 후 대기 시간, 소외되는 학생에 대한 관심</li>
                    </ul>
                    <h5>다음 사이클 계획:</h5>
                    <p>발견된 패턴을 바탕으로 '대기 시간 3초 룰'과 '소외 학생 체크리스트'를 도입해 볼 예정입니다.</p>
                </div>
            `;
        }

        // 구조화된 성찰 요약 생성
        function generateReflectionSummary() {
            const step1 = document.getElementById('step1-description').value;
            const step2 = document.getElementById('step2-interpretation').value;
            const step3 = document.getElementById('step3-evaluation').value;
            
            if (!step1.trim() || !step2.trim() || !step3.trim()) {
                alert('모든 단계의 성찰을 완료해주세요.');
                return;
            }
            
            const summary = document.getElementById('reflection-summary');
            summary.innerHTML = `
                <div class="analysis-result">
                    <h4>📝 통합 성찰 요약</h4>
                    <h5>핵심 발견:</h5>
                    <p>이번 수업에서 가장 주목할 점은 의도했던 바와 실제 결과 사이의 간극이었습니다. 
                    특히 ${step2.substring(0, 50)}... 이라는 해석이 향후 수업 설계에 중요한 시사점을 제공합니다.</p>
                    
                    <h5>실행 계획:</h5>
                    <p>다음 수업에서는 다음과 같은 변화를 시도해볼 예정입니다:</p>
                    <ul>
                        <li>더 구체적인 발문 전략 적용</li>
                        <li>학생 참여도 실시간 모니터링</li>
                        <li>피드백의 즉시성 강화</li>
                    </ul>
                    
                    <h5>연구 질문 재정의:</h5>
                    <p>오늘의 성찰을 통해 새로운 연구 질문이 떠올랐습니다: "효과적인 발문은 단순히 좋은 질문이 아니라 적절한 타이밍의 문제인가?"</p>
                </div>
            `;
        }

        // 코드 추가
        function addCode() {
            codeCount++;
            const container = document.getElementById('codes-container');
            const codeDiv = document.createElement('div');
            codeDiv.style.margin = '10px 0';
            codeDiv.innerHTML = `
                <input type="text" placeholder="코드 이름 (예: 학습자 주도성)" style="width: 200px; margin-right: 10px;">
                <textarea placeholder="코드 설명 및 관련 데이터" rows="2" style="width: 300px; margin-right: 10px;"></textarea>
                <button class="btn btn-secondary" onclick="this.parentElement.remove()">삭제</button>
            `;
            container.insertBefore(codeDiv, container.firstChild.nextSibling);
        }

        // 코딩 분석
        function analyzeCoding() {
            const text = document.getElementById('coding-text').value;
            if (!text.trim()) {
                alert('분석할 텍스트를 입력해주세요.');
                return;
            }
            
            const result = document.getElementById('coding-result');
            result.innerHTML = `
                <div class="analysis-result">
                    <h4>🧠 질적 코딩 분석 결과</h4>
                    <h5>추출된 주요 테마:</h5>
                    <ul>
                        <li><strong>학습자 불안감:</strong> "연필 돌리기", "두리번거리기" 등 회피 행동 패턴</li>
                        <li><strong>교사 지원의 효과:</strong> "힌트" 제공 후 급격한 태도 변화</li>
                        <li><strong>학습 동기의 순간성:</strong> "갑자기 밝은 표정"으로 표현된 동기 전환점</li>
                    </ul>
                    <h5>이론적 연결:</h5>
                    <p>비고츠키의 근접발달영역(ZPD) 이론과 연결하여, 적절한 비계설정(scaffolding)이 
                    학습자의 자신감과 참여도에 미치는 즉각적 영향을 확인할 수 있었습니다.</p>
                    <h5>후속 연구 제안:</h5>
                    <p>"학습자의 불안 신호 조기 포착을 위한 관찰 체크리스트 개발"을 다음 연구 주제로 제안합니다.</p>
                </div>
            `;
        }

        // 타임라인 아이템 추가
        function addTimelineItem() {
            const timelineTab = document.getElementById('timeline-tab');
            const newItem = document.createElement('div');
            newItem.className = 'portfolio-item';
            newItem.innerHTML = `
                <h4>🌱 ${new Date().getFullYear()}년 ${new Date().getMonth() + 1}월 - 새로운 연구 사이클</h4>
                <p><strong>연구 주제:</strong> <input type="text" placeholder="연구 주제 입력" style="border: none; border-bottom: 1px solid #ccc; background: transparent;"></p>
                <p><strong>주요 발견:</strong> <input type="text" placeholder="핵심 발견 사항" style="border: none; border-bottom: 1px solid #ccc; background: transparent; width: 400px;"></p>
                <p><strong>적용한 변화:</strong> <input type="text" placeholder="실제 적용한 변화" style="border: none; border-bottom: 1px solid #ccc; background: transparent; width: 400px;"></p>
            `;
            
            const addButton = timelineTab.querySelector('.btn');
            timelineTab.insertBefore(newItem, addButton);
        }

        // 루브릭 점수 선택
        function selectScore(button, category, score) {
            const scoreButtons = button.parentElement.querySelectorAll('.score-btn');
            scoreButtons.forEach(btn => btn.classList.remove('selected'));
            button.classList.add('selected');
        }

        // 루브릭 평가 저장
        function saveRubricEvaluation() {
            const reflection = document.getElementById('overall-reflection').value;
            if (reflection.trim()) {
                alert('자기 평가가 저장되었습니다!');
            } else {
                alert('종합 성찰을 작성해주세요.');
            }
        }

        // PDF 리포트 생성
        function generatePDFReport() {
            const result = document.getElementById('export-result');
            result.innerHTML = `
                <div class="analysis-result">
                    <h4>📄 PDF 리포트 생성 중...</h4>
                    <p>포트폴리오 데이터를 PDF 형태로 변환하고 있습니다. 잠시만 기다려주세요.</p>
                    <div class="progress-bar">
                        <div class="progress-fill" style="width: 75%; background: #27ae60;"></div>
                    </div>
                    <button class="btn" style="margin-top: 15px;" onclick="alert('PDF 다운로드가 시작됩니다!')">다운로드</button>
                </div>
            `;
        }

        // 데이터 시각화 생성
        function createVisualization() {
            const result = document.getElementById('export-result');
            result.innerHTML = `
                <div class="analysis-result">
                    <h4>📊 성장 데이터 시각화</h4>
                    <div style="background: white; padding: 20px; border-radius: 10px; margin: 15px 0;">
                        <canvas id="growthChart" width="400" height="200" style="max-width: 100%;"></canvas>
                    </div>
                    <p>지난 6개월간의 성장 궤적이 시각화되었습니다. 지속적인 상승 곡선을 확인할 수 있습니다!</p>
                </div>
            `;
            
            // 간단한 성장 차트 시뮬레이션
            const canvas = document.getElementById('growthChart');
            if (canvas) {
                const ctx = canvas.getContext('2d');
                ctx.strokeStyle = '#667eea';
                ctx.lineWidth = 3;
                ctx.beginPath();
                ctx.moveTo(50, 150);
                ctx.lineTo(100, 120);
                ctx.lineTo(150, 100);
                ctx.lineTo(200, 80);
                ctx.lineTo(250, 60);
                ctx.lineTo(300, 50);
                ctx.stroke();
                
                // 데이터 포인트
                ctx.fillStyle = '#764ba2';
                [50, 100, 150, 200, 250, 300].forEach((x, i) => {
                    const y = 150 - (i * 20);
                    ctx.beginPath();
                    ctx.arc(x, y, 5, 0, 2 * Math.PI);
                    ctx.fill();
                });
                
                // 레이블
                ctx.fillStyle = '#333';
                ctx.font = '12px Arial';
                ctx.fillText('3월', 40, 180);
                ctx.fillText('4월', 90, 180);
                ctx.fillText('5월', 140, 180);
                ctx.fillText('6월', 190, 180);
                ctx.fillText('7월', 240, 180);
                ctx.fillText('8월', 290, 180);
            }
        }

        // 동료와 공유
        function shareWithColleagues() {
            const result = document.getElementById('export-result');
            result.innerHTML = `
                <div class="analysis-result">
                    <h4>🤝 공유 링크 생성 완료</h4>
                    <p><strong>공유 링크:</strong> <code>https://myteaching-lab.com/portfolio/share/abc123</code></p>
                    <p>이 링크를 동료 교사들과 공유하여 피드백을 받아보세요. 링크는 30일간 유효합니다.</p>
                    <button class="btn" onclick="copyToClipboard()">링크 복사</button>
                    <button class="btn btn-secondary" onclick="alert('이메일 초대장이 발송되었습니다!')">이메일로 초대</button>
                </div>
            `;
        }

        // 클립보드에 복사
        function copyToClipboard() {
            navigator.clipboard.writeText('https://myteaching-lab.com/portfolio/share/abc123').then(() => {
                alert('링크가 클립보드에 복사되었습니다!');
            });
        }

        // 페이지 로드 시 초기화
        document.addEventListener('DOMContentLoaded', function() {
            updateProgress();
            
            // 메트릭 카드 애니메이션
            const animateNumbers = () => {
                const metrics = [
                    { id: 'total-reflections', target: 12, current: 0 },
                    { id: 'completed-cycles', target: 3, current: 0 },
                    { id: 'improvement-areas', target: 5, current: 0 },
                    { id: 'growth-score', target: 78, current: 0, suffix: '%' }
                ];
                
                metrics.forEach(metric => {
                    const element = document.getElementById(metric.id);
                    if (element) {
                        const increment = metric.target / 20;
                        const timer = setInterval(() => {
                            metric.current += increment;
                            if (metric.current >= metric.target) {
                                metric.current = metric.target;
                                clearInterval(timer);
                            }
                            element.textContent = Math.floor(metric.current) + (metric.suffix || '');
                        }, 50);
                    }
                });
            };
            
            // 포트폴리오 섹션이 보일 때 애니메이션 실행
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && entry.target.id === 'portfolio') {
                        animateNumbers();
                        observer.unobserve(entry.target);
                    }
                });
            });
            
            const portfolioSection = document.getElementById('portfolio');
            if (portfolioSection) {
                observer.observe(portfolioSection);
            }
        });
    </script>
</body>
</html> >1단계: 묘사 (What?)</h4>
                        <div class="reflection-prompt">
                            <ul>
                                <li>수업에서 구체적으로 어떤 일이 있었는가?</li>
                                <li>학생들은 어떤 말과 행동을 보였는가?</li>
                                <li>나는 어떻게 반응했는가?</li>
                            </ul>
                        </div>
                        <textarea id="step1-description" rows="4" placeholder="가치 판단 없이 사실만 기록하세요"></textarea>
                    </div>

                    <div class="card">
                        <h4
