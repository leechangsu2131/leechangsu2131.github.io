<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>êµì‚¬ ì…€í”„ìŠ¤í„°ë”” ì§€ì› í”Œë«í¼ - ë‚˜ë§Œì˜ ìˆ˜ì—… ì—°êµ¬ì‹¤</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            color: #2c3e50;
            margin-bottom: 15px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .data-management {
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .navigation {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.9);
            border: none;
            padding: 12px 24px;
            border-radius: 50px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            color: #2c3e50;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .nav-btn:hover, .nav-btn.active {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .content-section {
            display: none;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.5s ease;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .section-title {
            font-size: 2rem;
            color: #2c3e50;
            margin-bottom: 20px;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .record-interface {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        .record-form {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .record-history {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            max-height: 600px;
            overflow-y: auto;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #2c3e50;
        }

        .form-group input, .form-group textarea, .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e8ed;
            border-radius: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .tag-input {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 15px;
        }

        .tag {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 0.8rem;
            display: inline-block;
            margin: 2px;
        }

        .btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .btn-secondary {
            background: linear-gradient(45deg, #95a5a6, #7f8c8d);
        }

        .btn-small {
            padding: 6px 15px;
            font-size: 0.8rem;
        }

        .record-item {
            background: white;
            border: 1px solid #e1e8ed;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            position: relative;
        }

        .record-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .record-type {
            background: #667eea;
            color: white;
            padding: 3px 10px;
            border-radius: 10px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .record-date {
            color: #7f8c8d;
            font-size: 0.8rem;
        }

        .record-content {
            margin: 10px 0;
            line-height: 1.5;
        }

        .record-tags {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .search-filter {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 200px;
        }

        .filter-select {
            min-width: 150px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-number {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .timeline {
            position: relative;
            margin: 30px 0;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 2px;
            height: 100%;
            background: #667eea;
        }

        .timeline-item {
            position: relative;
            margin: 20px 0;
            padding: 0 20px;
        }

        .timeline-item:nth-child(odd) {
            text-align: right;
            padding-right: 50%;
        }

        .timeline-item:nth-child(even) {
            text-align: left;
            padding-left: 50%;
        }

        .timeline-dot {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #667eea;
        }

        .insight-card {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            border-left: 5px solid #667eea;
        }

        .connection-map {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .alert {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            animation: slideIn 0.5s ease;
        }

        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .hidden {
            display: none !important;
        }

        @media (max-width: 768px) {
            .record-interface {
                grid-template-columns: 1fr;
            }
            
            .search-filter {
                flex-direction: column;
            }
            
            .search-input, .filter-select {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ë‚˜ë§Œì˜ ìˆ˜ì—… ì—°êµ¬ì‹¤</h1>
            <p>ì²´ê³„ì ì¸ ì…€í”„ìŠ¤í„°ë””ë¥¼ í†µí•œ êµì‚¬ ì „ë¬¸ì„± ê°œë°œ í”Œë«í¼</p>
        </div>

        <!-- ë°ì´í„° ê´€ë¦¬ ë„êµ¬ë°” -->
        <div class="data-management">
            <button class="btn btn-small" onclick="exportData()">ğŸ“¥ ë°ì´í„° ë‹¤ìš´ë¡œë“œ</button>
            <input type="file" id="importFile" accept=".json" onchange="importData()" style="display: none;">
            <button class="btn btn-small btn-secondary" onclick="document.getElementById('importFile').click()">ğŸ“¤ ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸°</button>
            <button class="btn btn-small btn-secondary" onclick="clearAllData()">ğŸ—‘ï¸ ë°ì´í„° ì´ˆê¸°í™”</button>
            <div style="flex: 1;"></div>
            <span id="dataStatus">ë°ì´í„° ìƒíƒœ: ì¤€ë¹„ë¨</span>
        </div>

        <div class="navigation">
            <button class="nav-btn active" onclick="showSection('record')">ê¸°ë¡í•˜ê¸°</button>
            <button class="nav-btn" onclick="showSection('analyze')">ë¶„ì„í•˜ê¸°</button>
            <button class="nav-btn" onclick="showSection('insight')">í†µì°° ë„ì¶œ</button>
            <button class="nav-btn" onclick="showSection('portfolio')">ì„±ì¥ í¬íŠ¸í´ë¦¬ì˜¤</button>
        </div>

        <!-- ê¸°ë¡í•˜ê¸° ì„¹ì…˜ -->
        <div class="content-section active" id="record">
            <h2 class="section-title">ìˆ˜ì—… ê¸°ë¡ ë° ì„±ì°°</h2>
            
            <div class="record-interface">
                <div class="record-form">
                    <h3>ìƒˆë¡œìš´ ê¸°ë¡ ì‘ì„±</h3>
                    
                    <div class="form-group">
                        <label>ê¸°ë¡ ìœ í˜•</label>
                        <select id="recordType">
                            <option value="reflection">ìˆ˜ì—… ì„±ì°°</option>
                            <option value="observation">ìˆ˜ì—… ê´€ì°°</option>
                            <option value="student_work">í•™ìƒ ê²°ê³¼ë¬¼ ë¶„ì„</option>
                            <option value="experiment">ìˆ˜ì—… ì‹¤í—˜</option>
                            <option value="question">íƒêµ¬ ì§ˆë¬¸</option>
                            <option value="insight">ê¹¨ë‹¬ìŒ/í†µì°°</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ì œëª©</label>
                        <input type="text" id="recordTitle" placeholder="ê¸°ë¡ì˜ í•µì‹¬ì„ ë‹´ì€ ì œëª©">
                    </div>

                    <div class="form-group">
                        <label>ë‚´ìš©</label>
                        <textarea id="recordContent" rows="6" placeholder="êµ¬ì²´ì ì´ê³  ì†”ì§í•œ ê¸°ë¡ì„ ì‘ì„±í•˜ì„¸ìš”"></textarea>
                    </div>

                    <div class="form-group">
                        <label>íƒœê·¸ (ì‰¼í‘œë¡œ êµ¬ë¶„)</label>
                        <input type="text" id="recordTags" placeholder="ì˜ˆ: ë°œë¬¸, ì°¸ì—¬ë„, ìˆ˜í•™, ì†Œìˆ˜">
                    </div>

                    <div class="form-group">
                        <label>ê´€ë ¨ ê¸°ë¡ ì—°ê²°</label>
                        <select id="relatedRecord" multiple style="height: 80px;">
                            <!-- ê¸°ì¡´ ê¸°ë¡ë“¤ì´ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤ -->
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ì¤‘ìš”ë„</label>
                        <select id="recordImportance">
                            <option value="low">ë‚®ìŒ</option>
                            <option value="medium" selected>ë³´í†µ</option>
                            <option value="high">ë†’ìŒ</option>
                            <option value="critical">ë§¤ìš° ì¤‘ìš”</option>
                        </select>
                    </div>

                    <button class="btn" onclick="saveRecord()">ê¸°ë¡ ì €ì¥</button>
                    <div id="saveStatus"></div>
                </div>

                <div class="record-history">
                    <h3>ìµœê·¼ ê¸°ë¡</h3>
                    
                    <div class="search-filter">
                        <input type="text" id="searchInput" class="search-input" placeholder="ê¸°ë¡ ê²€ìƒ‰..." onkeyup="filterRecords()">
                        <select id="typeFilter" class="filter-select" onchange="filterRecords()">
                            <option value="">ëª¨ë“  ìœ í˜•</option>
                            <option value="reflection">ìˆ˜ì—… ì„±ì°°</option>
                            <option value="observation">ìˆ˜ì—… ê´€ì°°</option>
                            <option value="student_work">í•™ìƒ ê²°ê³¼ë¬¼ ë¶„ì„</option>
                            <option value="experiment">ìˆ˜ì—… ì‹¤í—˜</option>
                            <option value="question">íƒêµ¬ ì§ˆë¬¸</option>
                            <option value="insight">ê¹¨ë‹¬ìŒ/í†µì°°</option>
                        </select>
                        <select id="sortOrder" class="filter-select" onchange="filterRecords()">
                            <option value="newest">ìµœì‹ ìˆœ</option>
                            <option value="oldest">ì˜¤ë˜ëœìˆœ</option>
                            <option value="importance">ì¤‘ìš”ë„ìˆœ</option>
                        </select>
                    </div>

                    <div id="recordList">
                        <!-- ê¸°ë¡ë“¤ì´ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ë¶„ì„í•˜ê¸° ì„¹ì…˜ -->
        <div class="content-section" id="analyze">
            <h2 class="section-title">ë°ì´í„° ë¶„ì„ ë° íŒ¨í„´ ë°œê²¬</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalRecords">0</div>
                    <div class="stat-label">ì´ ê¸°ë¡ ìˆ˜</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="thisWeekRecords">0</div>
                    <div class="stat-label">ì´ë²ˆ ì£¼ ê¸°ë¡</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="topTag">-</div>
                    <div class="stat-label">ê°€ì¥ ë§ì€ íƒœê·¸</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="avgWeekly">0</div>
                    <div class="stat-label">ì£¼í‰ê·  ê¸°ë¡</div>
                </div>
            </div>

            <div class="timeline" id="timeline">
                <!-- íƒ€ì„ë¼ì¸ì´ ì—¬ê¸° í‘œì‹œë©ë‹ˆë‹¤ -->
            </div>

            <div class="insight-card">
                <h4>ğŸ“Š ìë™ íŒ¨í„´ ë¶„ì„ ê²°ê³¼</h4>
                <div id="patternAnalysis">
                    ë°ì´í„°ë¥¼ ë¶„ì„í•˜ì—¬ íŒ¨í„´ì„ ì°¾ì•„ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
                </div>
            </div>

            <button class="btn" onclick="analyzePatterns()">íŒ¨í„´ ë¶„ì„ ì‹¤í–‰</button>
        </div>

        <!-- í†µì°° ë„ì¶œ ì„¹ì…˜ -->
        <div class="content-section" id="insight">
            <h2 class="section-title">í†µì°° ë„ì¶œ ë° ì—°ê²°</h2>
            
            <div class="connection-map">
                <h3>ê¸°ë¡ ê°„ ì—°ê²° ê´€ê³„</h3>
                <div id="connectionVisualization">
                    <!-- ì—°ê²° ê´€ê³„ ì‹œê°í™” -->
                </div>
                <button class="btn" onclick="generateConnections()">ì—°ê²° ê´€ê³„ ë¶„ì„</button>
            </div>

            <div class="insight-card">
                <h4>ğŸ” AI ê¸°ë°˜ í†µì°° ì œì•ˆ</h4>
                <div id="aiInsights">
                    ê¸°ë¡ì„ ë°”íƒ•ìœ¼ë¡œ ì˜ë¯¸ ìˆëŠ” í†µì°°ì„ ì œì•ˆí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.
                </div>
                <button class="btn" onclick="generateInsights()">í†µì°° ìƒì„±</button>
            </div>
        </div>

        <!-- ì„±ì¥ í¬íŠ¸í´ë¦¬ì˜¤ ì„¹ì…˜ -->
        <div class="content-section" id="portfolio">
            <h2 class="section-title">ì„±ì¥ ì—¬ì • í¬íŠ¸í´ë¦¬ì˜¤</h2>
            
            <div class="insight-card">
                <h4>ğŸ“ˆ ì„±ì¥ ì§€í‘œ</h4>
                <div id="growthMetrics">
                    <!-- ì„±ì¥ ì§€í‘œ ì‹œê°í™” -->
                </div>
            </div>

            <div class="insight-card">
                <h4>ğŸ“ í•µì‹¬ ì„±ì°° ëª¨ìŒ</h4>
                <div id="keyReflections">
                    <!-- ì¤‘ìš”í•œ ì„±ì°°ë“¤ -->
                </div>
            </div>

            <div class="insight-card">
                <h4>ğŸ¯ ë‹¤ìŒ íƒêµ¬ ê³¼ì œ</h4>
                <div id="nextQuestions">
                    <!-- í–¥í›„ íƒêµ¬í•  ì§ˆë¬¸ë“¤ -->
                </div>
            </div>

            <button class="btn" onclick="generatePortfolio()">í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„±</button>
            <button class="btn btn-secondary" onclick="exportPortfolio()">PDF ë‚´ë³´ë‚´ê¸°</button>
        </div>
    </div>

    <script>
        // ê°œì„ ëœ ë°ì´í„° ì €ì¥ êµ¬ì¡°
        let studyData = {
            records: [],
            connections: [],
            insights: [],
            settings: {
                autoSave: true,
                reminderFrequency: 'daily'
            },
            metadata: {
                created: new Date().toISOString(),
                lastModified: new Date().toISOString(),
                version: '2.0'
            }
        };

        // ê¸°ë¡ ìœ í˜•ë³„ ì•„ì´ì½˜
        const recordTypeIcons = {
            reflection: 'ğŸ’­',
            observation: 'ğŸ‘ï¸',
            student_work: 'ğŸ“Š',
            experiment: 'ğŸ§ª',
            question: 'â“',
            insight: 'ğŸ’¡'
        };

        // ê¸°ë¡ ìœ í˜•ë³„ í•œê¸€ëª…
        const recordTypeNames = {
            reflection: 'ìˆ˜ì—… ì„±ì°°',
            observation: 'ìˆ˜ì—… ê´€ì°°',
            student_work: 'í•™ìƒ ê²°ê³¼ë¬¼ ë¶„ì„',
            experiment: 'ìˆ˜ì—… ì‹¤í—˜',
            question: 'íƒêµ¬ ì§ˆë¬¸',
            insight: 'ê¹¨ë‹¬ìŒ/í†µì°°'
        };

        // ì´ˆê¸°í™”
        window.onload = function() {
            loadSampleData();
            updateRelatedRecordOptions();
            displayRecords();
            updateStats();
        };

        // ë„¤ë¹„ê²Œì´ì…˜
        function showSection(sectionId) {
            document.querySelectorAll('.content-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // ì„¹ì…˜ë³„ ì´ˆê¸° ì‘ì—…
            if (sectionId === 'analyze') {
                updateStats();
                generateTimeline();
            } else if (sectionId === 'insight') {
                updateConnectionVisualization();
            } else if (sectionId === 'portfolio') {
                updatePortfolio();
            }
        }

        // ìƒˆ ê¸°ë¡ ì €ì¥
        function saveRecord() {
            const record = {
                id: Date.now().toString(),
                type: document.getElementById('recordType').value,
                title: document.getElementById('recordTitle').value,
                content: document.getElementById('recordContent').value,
                tags: document.getElementById('recordTags').value.split(',').map(tag => tag.trim()).filter(tag => tag),
                relatedRecords: Array.from(document.getElementById('relatedRecord').selectedOptions).map(option => option.value),
                importance: document.getElementById('recordImportance').value,
                timestamp: new Date().toISOString(),
                lastModified: new Date().toISOString()
            };

            if (!record.title || !record.content) {
                showAlert('ì œëª©ê³¼ ë‚´ìš©ì„ ëª¨ë‘ ì…ë ¥í•´ì£¼ì„¸ìš”.', 'info');
                return;
            }

            studyData.records.push(record);
            studyData.metadata.lastModified = new Date().toISOString();

            // ì—°ê²° ê´€ê³„ ìë™ ìƒì„±
            if (record.relatedRecords.length > 0) {
                record.relatedRecords.forEach(relatedId => {
                    studyData.connections.push({
                        from: record.id,
                        to: relatedId,
                        type: 'manual',
                        strength: 1.0,
                        created: new Date().toISOString()
                    });
                });
            }

            // í¼ ì´ˆê¸°í™”
            document.getElementById('recordTitle').value = '';
            document.getElementById('recordContent').value = '';
            document.getElementById('recordTags').value = '';
            document.getElementById('relatedRecord').selectedIndex = -1;
            document.getElementById('recordImportance').value = 'medium';

            updateRelatedRecordOptions();
            displayRecords();
            updateStats();
            showAlert('ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!', 'success');
        }

        // ê¸°ë¡ ëª©ë¡ í‘œì‹œ
        function displayRecords() {
            const recordList = document.getElementById('recordList');
            let filteredRecords = [...studyData.records];

            // ì •ë ¬
            const sortOrder = document.getElementById('sortOrder').value;
            filteredRecords.sort((a, b) => {
                if (sortOrder === 'newest') {
                    return new Date(b.timestamp) - new Date(a.timestamp);
                } else if (sortOrder === 'oldest') {
                    return new Date(a.timestamp) - new Date(b.timestamp);
                } else if (sortOrder === 'importance') {
                    const importanceOrder = { critical: 4, high: 3, medium: 2, low: 1 };
                    return importanceOrder[b.importance] - importanceOrder[a.importance];
                }
                return 0;
            });

            recordList.innerHTML = filteredRecords.map(record => `
                <div class="record-item" data-id="${record.id}">
                    <div class="record-header">
                        <span class="record-type">${recordTypeIcons[record.type]} ${recordTypeNames[record.type]}</span>
                        <span class="record-date">${new Date(record.timestamp).toLocaleDateString('ko-KR')}</span>
                    </div>
                    <h4>${record.title}</h4>
                    <div class="record-content">${record.content.substring(0, 150)}${record.content.length > 150 ? '...' : ''}</div>
                    <div class="record-tags">
                        ${record.tags.map(tag => `<span class="tag">#${tag}</span>`).join('')}
                    </div>
                    <div style="margin-top: 10px;">
                        <button class="btn btn-small" onclick="editRecord('${record.id}')">ìˆ˜ì •</button>
                        <button class="btn btn-small btn-secondary" onclick="deleteRecord('${record.id}')">ì‚­ì œ</button>
                        <span style="margin-left: 10px; font-size: 0.8rem; color: #7f8c8d;">ì¤‘ìš”ë„: ${getImportanceText(record.importance)}</span>
                    </div>
                </div>
            `).join('');
        }

        // ì¤‘ìš”ë„ í…ìŠ¤íŠ¸ ë³€í™˜
        function getImportanceText(importance) {
            const texts = { low: 'ë‚®ìŒ', medium: 'ë³´í†µ', high: 'ë†’ìŒ', critical: 'ë§¤ìš° ì¤‘ìš”' };
            return texts[importance] || 'ë³´í†µ';
        }

        // ê¸°ë¡ í•„í„°ë§
        function filterRecords() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const typeFilter = document.getElementById('typeFilter').value;

            document.querySelectorAll('.record-item').forEach(item => {
                const title = item.querySelector('h4').textContent.toLowerCase();
                const content = item.querySelector('.record-content').textContent.toLowerCase();
                const type = item.dataset.id;
                const record = studyData.records.find(r => r.id === type);

                const matchesSearch = !searchTerm || title.includes(searchTerm) || content.includes(searchTerm) || 
                                    record.tags.some(tag => tag.toLowerCase().includes(searchTerm));
                const matchesType = !typeFilter || record.type === typeFilter;

                item.style.display = matchesSearch && matchesType ? 'block' : 'none';
            });
        }

        // ê´€ë ¨ ê¸°ë¡ ì˜µì…˜ ì—…ë°ì´íŠ¸
        function updateRelatedRecordOptions() {
            const select = document.getElementById('relatedRecord');
            select.innerHTML = studyData.records.map(record => 
                `<option value="${record.id}">${recordTypeIcons[record.type]} ${record.title}</option>`
            ).join('');
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            document.getElementById('totalRecords').textContent = studyData.records.length;
            
            const now = new Date();
            const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
            const thisWeekRecords = studyData.records.filter(record => 
                new Date(record.timestamp) >= weekAgo
            );
            document.getElementById('thisWeekRecords').textContent = thisWeekRecords.length;

            // ê°€ì¥ ë§ì´ ì‚¬ìš©ëœ íƒœê·¸
            const tagCounts = {};
            studyData.records.forEach(record => {
                record.tags.forEach(tag => {
                    tagCounts[tag] = (tagCounts[tag] || 0) + 1;
                });
            });
            const topTag = Object.entries(tagCounts).sort((a, b) => b[1] - a[1])[0];
            document.getElementById('topTag').textContent = topTag ? `#${topTag[0]}` : '-';

            // ì£¼í‰ê·  ê¸°ë¡ ìˆ˜
            const firstRecord = studyData.records[0];
            if (firstRecord) {
                const daysSinceFirst = (now - new Date(firstRecord.timestamp)) / (1000 * 60 * 60 * 24);
                const weeksSinceFirst = Math.max(1, Math.ceil(daysSinceFirst / 7));
                const avgWeekly = Math.round(studyData.records.length / weeksSinceFirst * 10) / 10;
                document.getElementById('avgWeekly').textContent = avgWeekly;
            }
        }

        // íƒ€ì„ë¼ì¸ ìƒì„±
        function generateTimeline() {
            const timeline = document.getElementById('timeline');
            const sortedRecords = [...studyData.records]
                .sort((a, b) => new Date(a.timestamp) - new Date(b.timestamp))
                .slice(-10); // ìµœê·¼ 10ê°œë§Œ

            timeline.innerHTML = sortedRecords.map((record, index) => `
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="insight-card">
                        <h4>${recordTypeIcons[record.type]} ${record.title}</h4>
                        <p>${record.content.substring(0, 100)}...</p>
                        <small>${new Date(record.timestamp).toLocaleDateString('ko-KR')}</small>
                    </div>
                </div>
            `).join('');
        }

        // íŒ¨í„´ ë¶„ì„
        function analyzePatterns() {
            const analysis = document.getElementById('patternAnalysis');
            
            // ê°„ë‹¨í•œ íŒ¨í„´ ë¶„ì„ ì˜ˆì‹œ
            const patterns = [];
            
            // ì‹œê°„ëŒ€ë³„ ë¶„ì„
            const hourCounts = {};
            studyData.records.forEach(record => {
                const hour = new Date(record.timestamp).getHours();
                hourCounts[hour] = (hourCounts[hour] || 0) + 1;
            });
            const peakHour = Object.entries(hourCounts).sort((a, b) => b[1] - a[1])[0];
            if (peakHour) {
                patterns.push(`ì£¼ë¡œ ${peakHour[0]}ì‹œê²½ì— ê¸°ë¡ì„ ì‘ì„±í•˜ì‹œëŠ”êµ°ìš”!`);
            }

            // íƒœê·¸ ë™ì‹œ ì¶œí˜„ ë¶„ì„
            const tagPairs = {};
            studyData.records.forEach(record => {
                for (let i = 0; i < record.tags.length; i++) {
                    for (let j = i + 1; j < record.tags.length; j++) {
                        const pair = [record.tags[i], record.tags[j]].sort().join('-');
                        tagPairs[pair] = (tagPairs[pair] || 0) + 1;
                    }
                }
            });
            const topPair = Object.entries(tagPairs).sort((a, b) => b[1] - a[1])[0];
            if (topPair && topPair[1] > 1) {
                patterns.push(`'${topPair[0].replace('-', 'ê³¼ ')}'ê°€ ìì£¼ í•¨ê»˜ ë“±ì¥í•©ë‹ˆë‹¤.`);
            }

            // ì„±ì¥ íŒ¨í„´ ë¶„ì„
            const reflectionRecords = studyData.records.filter(r => r.type === 'reflection');
            if (reflectionRecords.length >= 3) {
                patterns.push(`ì„±ì°° ê¸°ë¡ì´ ${reflectionRecords.length}ê°œ ëˆ„ì ë˜ì–´ ì§€ì†ì ì¸ ìê¸° ê°œì„ ì´ ì´ë£¨ì–´ì§€ê³  ìˆìŠµë‹ˆë‹¤.`);
            }

            analysis.innerHTML = patterns.length > 0 ? 
                `<ul>${patterns.map(p => `<li>${p}</li>`).join('')}</ul>` : 
                'ë” ë§ì€ ë°ì´í„°ê°€ ìŒ“ì´ë©´ ì˜ë¯¸ ìˆëŠ” íŒ¨í„´ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
        }

        // ì—°ê²° ê´€ê³„ ì‹œê°í™”
        function updateConnectionVisualization() {
            const viz = document.getElementById('connectionVisualization');
            const connections = studyData.connections.length;
            const avgConnections = connections > 0 ? Math.round(connections / studyData.records.length * 10) / 10 : 0;
            
            viz.innerHTML = `
                <p>ì´ ${connections}ê°œì˜ ê¸°ë¡ ê°„ ì—°ê²°ì´ ë°œê²¬ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                <p>í‰ê· ì ìœ¼ë¡œ ê¸°ë¡ë‹¹ ${avgConnections}ê°œì˜ ì—°ê²°ì´ ìˆìŠµë‹ˆë‹¤.</p>
                <p>ì´ëŠ” ${avgConnections > 1 ? 'ë†’ì€' : 'ë‚®ì€'} ìˆ˜ì¤€ì˜ ê¸°ë¡ ê°„ ì—°ê´€ì„±ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.</p>
            `;
        }

        // ì—°ê²° ê´€ê³„ ìƒì„±
        function generateConnections() {
            // íƒœê·¸ ê¸°ë°˜ ìë™ ì—°ê²° ìƒì„±
            let newConnections = 0;
            
            for (let i = 0; i < studyData.records.length; i++) {
                for (let j = i + 1; j < studyData.records.length; j++) {
                    const record1 = studyData.records[i];
                    const record2 = studyData.records[j];
                    
                    // ê³µí†µ íƒœê·¸ê°€ 2ê°œ ì´ìƒì´ë©´ ì—°ê²°
                    const commonTags = record1.tags.filter(tag => record2.tags.includes(tag));
                    if (commonTags.length >= 2) {
                        const connectionExists = studyData.connections.some(conn => 
                            (conn.from === record1.id && conn.to === record2.id) ||
                            (conn.from === record2.id && conn.to === record1.id)
                        );
                        
                        if (!connectionExists) {
                            studyData.connections.push({
                                from: record1.id,
                                to: record2.id,
                                type: 'auto',
                                strength: commonTags.length / Math.max(record1.tags.length, record2.tags.length),
                                commonTags: commonTags,
                                created: new Date().toISOString()
                            });
                            newConnections++;
                        }
                    }
                }
            }
            
            updateConnectionVisualization();
            showAlert(`${newConnections}ê°œì˜ ìƒˆë¡œìš´ ì—°ê²°ì„ ë°œê²¬í–ˆìŠµë‹ˆë‹¤!`, 'success');
        }

        // í†µì°° ìƒì„±
        function generateInsights() {
            const insights = document.getElementById('aiInsights');
            const generatedInsights = [];
            
            // ê¸°ë¡ ìœ í˜•ë³„ ë¶„í¬ ë¶„ì„
            const typeCounts = {};
            studyData.records.forEach(record => {
                typeCounts[record.type] = (typeCounts[record.type] || 0) + 1;
            });
            
            const dominantType = Object.entries(typeCounts).sort((a, b) => b[1] - a[1])[0];
            if (dominantType) {
                generatedInsights.push(`ê°€ì¥ ë§ì´ ê¸°ë¡í•˜ëŠ” ìœ í˜•ì€ '${recordTypeNames[dominantType[0]]}'ì…ë‹ˆë‹¤. ì´ëŠ” ${dominantType[0] === 'reflection' ? 'ë‚´ì„±ì  ì„±ì°°' : dominantType[0] === 'observation' ? 'ê´€ì°° ì¤‘ì‹¬ì  íƒêµ¬' : 'ì‹¤í—˜ì  ì ‘ê·¼'}ì„ ì„ í˜¸í•¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.`);
            }

            // ê¸°ë¡ ë¹ˆë„ íŒ¨í„´
            const recordDates = studyData.records.map(r => new Date(r.timestamp).toDateString());
            const uniqueDates = [...new Set(recordDates)];
            const avgRecordsPerDay = Math.round(studyData.records.length / uniqueDates.length * 10) / 10;
            
            if (avgRecordsPerDay > 1) {
                generatedInsights.push(`í•˜ë£¨ í‰ê·  ${avgRecordsPerDay}ê°œì˜ ê¸°ë¡ì„ ì‘ì„±í•˜ì—¬ ë§¤ìš° í™œë°œí•œ ì„±ì°° í™œë™ì„ í•˜ê³  ìˆìŠµë‹ˆë‹¤.`);
            } else {
                generatedInsights.push(`ê¾¸ì¤€í•˜ì§€ë§Œ ì‹ ì¤‘í•œ ê¸°ë¡ ì‘ì„± íŒ¨í„´ì„ ë³´ì´ê³  ìˆìŠµë‹ˆë‹¤. ì§ˆì  ê¹Šì´ë¥¼ ì¤‘ì‹œí•˜ëŠ” ê²ƒìœ¼ë¡œ ë³´ì…ë‹ˆë‹¤.`);
            }

            // ì„±ì¥ ì§€í‘œ
            if (studyData.records.length >= 5) {
                generatedInsights.push(`${studyData.records.length}ê°œì˜ ê¸°ë¡ ì¶•ì ìœ¼ë¡œ ì²´ê³„ì ì¸ ì…€í”„ìŠ¤í„°ë””ê°€ ìë¦¬ì¡ê³  ìˆìŠµë‹ˆë‹¤. ì§€ì†ì ì¸ ì „ë¬¸ì„± ê°œë°œì˜ ì¢‹ì€ ê¸°ë°˜ì´ ë˜ê³  ìˆìŠµë‹ˆë‹¤.`);
            }

            insights.innerHTML = generatedInsights.length > 0 ? 
                `<ul>${generatedInsights.map(insight => `<li>ğŸ’¡ ${insight}</li>`).join('')}</ul>` :
                'ë” ë§ì€ ê¸°ë¡ì´ ì¶•ì ë˜ë©´ ê°œì¸í™”ëœ í†µì°°ì„ ì œê³µí•´ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.';
        }

        // í¬íŠ¸í´ë¦¬ì˜¤ ì—…ë°ì´íŠ¸
        function updatePortfolio() {
            // ì„±ì¥ ì§€í‘œ
            const growthMetrics = document.getElementById('growthMetrics');
            const totalDays = Math.ceil((Date.now() - new Date(studyData.records[0]?.timestamp || Date.now())) / (1000 * 60 * 60 * 24));
            
            growthMetrics.innerHTML = `
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number">${totalDays}</div>
                        <div class="stat-label">ì—°êµ¬ ì§„í–‰ ì¼ìˆ˜</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${studyData.records.length}</div>
                        <div class="stat-label">ëˆ„ì  ê¸°ë¡ ìˆ˜</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number">${studyData.connections.length}</div>
                        <div class="stat-label">ë°œê²¬ëœ ì—°ê²°ì </div>
                    </div>
                </div>
            `;

            // í•µì‹¬ ì„±ì°° ëª¨ìŒ
            const keyReflections = document.getElementById('keyReflections');
            const importantRecords = studyData.records
                .filter(r => r.importance === 'high' || r.importance === 'critical')
                .slice(-5);
            
            keyReflections.innerHTML = importantRecords.map(record => `
                <div class="insight-card" style="margin: 10px 0;">
                    <h5>${recordTypeIcons[record.type]} ${record.title}</h5>
                    <p>${record.content.substring(0, 200)}...</p>
                    <small>${new Date(record.timestamp).toLocaleDateString('ko-KR')}</small>
                </div>
            `).join('') || '<p>ì¤‘ìš”ë„ê°€ ë†’ì€ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>';

            // ë‹¤ìŒ íƒêµ¬ ê³¼ì œ
            const nextQuestions = document.getElementById('nextQuestions');
            const questionRecords = studyData.records.filter(r => r.type === 'question').slice(-3);
            
            nextQuestions.innerHTML = questionRecords.map(record => `
                <div style="margin: 10px 0; padding: 15px; background: rgba(102, 126, 234, 0.1); border-radius: 10px;">
                    <h5>â“ ${record.title}</h5>
                    <p>${record.content}</p>
                </div>
            `).join('') || '<p>íƒêµ¬ ì§ˆë¬¸ì„ ê¸°ë¡í•´ë³´ì„¸ìš”!</p>';
        }

        // ë°ì´í„° ê´€ë¦¬ ê¸°ëŠ¥ë“¤
        function exportData() {
            const dataStr = JSON.stringify(studyData, null, 2);
            const dataBlob = new Blob([dataStr], {type: 'application/json'});
            
            const link = document.createElement('a');
            link.href = URL.createObjectURL(dataBlob);
            link.download = `selfstudy_data_${new Date().toISOString().split('T')[0]}.json`;
            link.click();
            
            showAlert('ë°ì´í„°ë¥¼ ë‹¤ìš´ë¡œë“œí–ˆìŠµë‹ˆë‹¤!', 'success');
        }

        function importData() {
            const file = document.getElementById('importFile').files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedData = JSON.parse(e.target.result);
                    if (importedData.records && Array.isArray(importedData.records)) {
                        studyData = importedData;
                        updateRelatedRecordOptions();
                        displayRecords();
                        updateStats();
                        showAlert('ë°ì´í„°ë¥¼ ì„±ê³µì ìœ¼ë¡œ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!', 'success');
                    } else {
                        throw new Error('ì˜ëª»ëœ ë°ì´í„° í˜•ì‹');
                    }
                } catch (error) {
                    showAlert('ë°ì´í„° íŒŒì¼ì´ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.', 'error');
                }
            };
            reader.readAsText(file);
        }

        function clearAllData() {
            if (confirm('ëª¨ë“  ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ? ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.')) {
                studyData = {
                    records: [],
                    connections: [],
                    insights: [],
                    settings: { autoSave: true, reminderFrequency: 'daily' },
                    metadata: {
                        created: new Date().toISOString(),
                        lastModified: new Date().toISOString(),
                        version: '2.0'
                    }
                };
                updateRelatedRecordOptions();
                displayRecords();
                updateStats();
                showAlert('ëª¨ë“  ë°ì´í„°ê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'info');
            }
        }

        // ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ë“¤
        function showAlert(message, type) {
            const alertDiv = document.createElement('div');
            alertDiv.className = `alert alert-${type === 'error' ? 'info' : type}`;
            alertDiv.textContent = message;
            
            document.body.appendChild(alertDiv);
            setTimeout(() => {
                alertDiv.remove();
            }, 3000);
        }

        function editRecord(recordId) {
            const record = studyData.records.find(r => r.id === recordId);
            if (record) {
                document.getElementById('recordType').value = record.type;
                document.getElementById('recordTitle').value = record.title;
                document.getElementById('recordContent').value = record.content;
                document.getElementById('recordTags').value = record.tags.join(', ');
                document.getElementById('recordImportance').value = record.importance;
                
                // ê¸°ì¡´ ê¸°ë¡ ì‚­ì œ
                deleteRecord(recordId, false);
            }
        }

        function deleteRecord(recordId, confirm = true) {
            if (confirm && !window.confirm('ì´ ê¸°ë¡ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                return;
            }
            
            studyData.records = studyData.records.filter(r => r.id !== recordId);
            studyData.connections = studyData.connections.filter(c => c.from !== recordId && c.to !== recordId);
            
            updateRelatedRecordOptions();
            displayRecords();
            updateStats();
            
            if (confirm) {
                showAlert('ê¸°ë¡ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', 'success');
            }
        }

        function generatePortfolio() {
            showAlert('í¬íŠ¸í´ë¦¬ì˜¤ ìƒì„± ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.', 'info');
        }

        function exportPortfolio() {
            showAlert('PDF ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ì€ ê°œë°œ ì¤‘ì…ë‹ˆë‹¤.', 'info');
        }

        // ìƒ˜í”Œ ë°ì´í„° ë¡œë“œ (í…ŒìŠ¤íŠ¸ìš©)
        function loadSampleData() {
            if (studyData.records.length === 0) {
                studyData.records = [
                    {
                        id: '1',
                        type: 'reflection',
                        title: 'ì˜¤ëŠ˜ ìˆ˜ì—…ì—ì„œ í•™ìƒë“¤ì˜ ì§ˆë¬¸ì´ ì ì—ˆë˜ ì´ìœ ',
                        content: 'í‰ì†Œë³´ë‹¤ í•™ìƒë“¤ì´ ì§ˆë¬¸ì„ ë§ì´ í•˜ì§€ ì•Šì•˜ë‹¤. ìƒˆë¡œìš´ ê°œë…(ë¶„ìˆ˜ì˜ ë‚˜ëˆ—ì…ˆ)ì„ ì„¤ëª…í•  ë•Œ ì•„ì´ë“¤ì´ ì¡°ìš©í–ˆëŠ”ë°, ì´ê²Œ ì´í•´ë¥¼ ëª»í•œ ê±´ì§€ ì•„ë‹ˆë©´ ë„ˆë¬´ ì–´ë ¤ì›Œì„œ ì§ˆë¬¸í•  ì—„ë‘ë¥¼ ëª» ë‚¸ ê±´ì§€ ê¶ê¸ˆí•˜ë‹¤. ë‹¤ìŒ ì‹œê°„ì—” ë” ì‘ì€ ë‹¨ê³„ë¡œ ë‚˜ëˆ„ì–´ì„œ ì„¤ëª…í•´ë³¼ í•„ìš”ê°€ ìˆì„ ê²ƒ ê°™ë‹¤.',
                        tags: ['ì§ˆë¬¸', 'ë¶„ìˆ˜', 'ìˆ˜í•™', 'ì°¸ì—¬ë„'],
                        relatedRecords: [],
                        importance: 'medium',
                        timestamp: new Date(Date.now() - 86400000).toISOString(),
                        lastModified: new Date(Date.now() - 86400000).toISOString()
                    },
                    {
                        id: '2',
                        type: 'observation',
                        title: 'ë¯¼ìˆ˜ì˜ ë°œí‘œ ì°¸ì—¬ë„ ë³€í™”',
                        content: 'ì§€ë‚œ ë‹¬ê¹Œì§€ ë°œí‘œë¥¼ ê±°ì˜ í•˜ì§€ ì•Šë˜ ë¯¼ìˆ˜ê°€ ì˜¤ëŠ˜ ì ê·¹ì ìœ¼ë¡œ ì†ì„ ë“¤ê³  ìì‹ ì˜ ì˜ê²¬ì„ ë§í–ˆë‹¤. ì†Œê·¸ë£¹ í™œë™ì„ ë¨¼ì € í•œ í›„ ì „ì²´ ë°œí‘œë¡œ ì´ì–´ì§„ ê²ƒì´ íš¨ê³¼ê°€ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤. ë‹¤ë¥¸ ë‚´ì„±ì ì¸ ì•„ì´ë“¤ë„ ë¹„ìŠ·í•œ íŒ¨í„´ì„ ë³´ì´ëŠ”ì§€ ê´€ì°°í•´ë³´ì.',
                        tags: ['ë°œí‘œ', 'ì°¸ì—¬ë„', 'ì†Œê·¸ë£¹', 'ë¯¼ìˆ˜'],
                        relatedRecords: [],
                        importance: 'high',
                        timestamp: new Date(Date.now() - 172800000).toISOString(),
                        lastModified: new Date(Date.now() - 172800000).toISOString()
                    },
                    {
                        id: '3',
                        type: 'student_work',
                        title: 'ì„œìˆ í˜• í‰ê°€ ê²°ê³¼ ë¶„ì„',
                        content: 'ì´ë²ˆ ì„œìˆ í˜• í‰ê°€ì—ì„œ í•™ìƒë“¤ì´ ê³„ì‚°ì€ ì˜í–ˆì§€ë§Œ ë¬¸ì œ í•´ê²° ê³¼ì •ì„ ì„¤ëª…í•˜ëŠ” ë¶€ë¶„ì—ì„œ ë§ì´ ì–´ë ¤ì›Œí–ˆë‹¤. íŠ¹íˆ "ì™œ ê·¸ë ‡ê²Œ ìƒê°í–ˆëŠ”ì§€" ì„¤ëª…í•˜ëŠ” ë¬¸í•­ì—ì„œ ì ìˆ˜ê°€ ë‚®ì•˜ë‹¤. ì‚¬ê³  ê³¼ì •ì„ ë§ë¡œ í‘œí˜„í•˜ëŠ” ì—°ìŠµì´ ë” í•„ìš”í•  ê²ƒ ê°™ë‹¤.',
                        tags: ['ì„œìˆ í˜•', 'í‰ê°€', 'ì‚¬ê³ ê³¼ì •', 'ì„¤ëª…'],
                        relatedRecords: [],
                        importance: 'high',
                        timestamp: new Date(Date.now() - 259200000).toISOString(),
                        lastModified: new Date(Date.now() - 259200000).toISOString()
                    },
                    {
                        id: '4',
                        type: 'experiment',
                        title: 'ê²Œì„ ê¸°ë°˜ í•™ìŠµ ì‹œë„',
                        content: 'ê³±ì…ˆêµ¬êµ¬ë¥¼ ì™¸ìš°ëŠ” ëŒ€ì‹  ì¹´ë“œê²Œì„ìœ¼ë¡œ ì ‘ê·¼í•´ë´¤ë‹¤. ì•„ì´ë“¤ì´ í›¨ì”¬ ì¦ê±°ì›Œí–ˆê³  ìì—°ìŠ¤ëŸ½ê²Œ ì•”ê¸°ê°€ ë˜ëŠ” ê²ƒ ê°™ì•˜ë‹¤. í•˜ì§€ë§Œ ì‹œê°„ì´ ë” ì˜¤ë˜ ê±¸ë ¸ê³ , ì¼ë¶€ ì•„ì´ë“¤ì€ ê²Œì„ì—ë§Œ ì§‘ì¤‘í•´ì„œ í•™ìŠµ ëª©í‘œë¥¼ ë†“ì¹˜ëŠ” ê²½ìš°ê°€ ìˆì—ˆë‹¤. ì ì ˆí•œ ê· í˜•ì ì„ ì°¾ì•„ì•¼ê² ë‹¤.',
                        tags: ['ê²Œì„', 'ê³±ì…ˆêµ¬êµ¬', 'ì•”ê¸°', 'ì¬ë¯¸'],
                        relatedRecords: [],
                        importance: 'medium',
                        timestamp: new Date(Date.now() - 345600000).toISOString(),
                        lastModified: new Date(Date.now() - 345600000).toISOString()
                    },
                    {
                        id: '5',
                        type: 'question',
                        title: 'ë‚´í–¥ì  ì„±ê²©ì˜ í•™ìƒë“¤ì„ ì–´ë–»ê²Œ ë” ì°¸ì—¬ì‹œí‚¬ ìˆ˜ ìˆì„ê¹Œ?',
                        content: 'ìš°ë¦¬ ë°˜ì— ì¡°ìš©í•œ ì„±ê²©ì˜ ì•„ì´ë“¤ì´ ëª‡ ëª… ìˆë‹¤. ì´ ì•„ì´ë“¤ë„ ë¶„ëª… ì¢‹ì€ ì•„ì´ë””ì–´ë¥¼ ê°€ì§€ê³  ìˆì„ í…ë° í° ì†Œë¦¬ë¡œ ë°œí‘œí•˜ê¸°ë¥¼ ì–´ë ¤ì›Œí•œë‹¤. ì–´ë–»ê²Œ í•˜ë©´ ì´ëŸ° ì•„ì´ë“¤ì˜ ìƒê°ë„ ìˆ˜ì—…ì— ìì—°ìŠ¤ëŸ½ê²Œ í¬í•¨ì‹œí‚¬ ìˆ˜ ìˆì„ê¹Œ? ê¸€ì“°ê¸°ë‚˜ ê·¸ë¦¼, ë˜ëŠ” ì‘ì€ ê·¸ë£¹ í™œë™ì´ ë„ì›€ì´ ë ê¹Œ?',
                        tags: ['ë‚´í–¥ì„±', 'ì°¸ì—¬', 'ë°œí‘œ', 'ì†Œê·¸ë£¹'],
                        relatedRecords: ['2'],
                        importance: 'high',
                        timestamp: new Date(Date.now() - 432000000).toISOString(),
                        lastModified: new Date(Date.now() - 432000000).toISOString()
                    },
                    {
                        id: '6',
                        type: 'insight',
                        title: 'ì•„ì´ë“¤ì˜ ì‹¤ìˆ˜ì—ì„œ ë°°ìš°ëŠ” ê²ƒ',
                        content: 'ì˜¤ëŠ˜ ìˆ˜ì—… ì¤‘ í•œ í•™ìƒì´ í‹€ë¦° ë‹µì„ ë§í–ˆëŠ”ë°, ê·¸ ì‹¤ìˆ˜ë¥¼ í†µí•´ ë‹¤ë¥¸ ì•„ì´ë“¤ì´ ë” ê¹Šì´ ìƒê°í•˜ê²Œ ë˜ì—ˆë‹¤. ì‹¤ìˆ˜ë¥¼ ë‹¨ìˆœíˆ "í‹€ë ¸ë‹¤"ê³  ë„˜ê¸°ì§€ ì•Šê³  "ì™œ ê·¸ë ‡ê²Œ ìƒê°í–ˆì„ê¹Œ?"ë¼ê³  ë¬¼ì–´ë³´ë‹ˆ ì „ì²´ì ì¸ ì´í•´ë„ê°€ ë†’ì•„ì§„ ê²ƒ ê°™ë‹¤. ì‹¤ìˆ˜ë„ í•™ìŠµì˜ ì¤‘ìš”í•œ ìì›ì´êµ¬ë‚˜.',
                        tags: ['ì‹¤ìˆ˜', 'í•™ìŠµ', 'ì§ˆë¬¸', 'ì´í•´'],
                        relatedRecords: [],
                        importance: 'critical',
                        timestamp: new Date(Date.now() - 518400000).toISOString(),
                        lastModified: new Date(Date.now() - 518400000).toISOString()
                    }
                ];

                // ìƒ˜í”Œ ì—°ê²° ê´€ê³„ ìƒì„±
                studyData.connections = [
                    {
                        from: '2',
                        to: '5',
                        type: 'manual',
                        strength: 1.0,
                        created: new Date(Date.now() - 400000000).toISOString()
                    }
                ];
            }
        }

        // ìë™ ì €ì¥ (ì‹¤ì œ í™˜ê²½ì—ì„œëŠ” ë¡œì»¬ìŠ¤í† ë¦¬ì§€ë‚˜ ì„œë²„ì— ì €ì¥)
        function autoSave() {
            if (studyData.settings.autoSave) {
                // ì‹¤ì œ êµ¬í˜„ì‹œì—ëŠ” localStorage.setItem('studyData', JSON.stringify(studyData)); 
                // ë˜ëŠ” ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡
                document.getElementById('dataStatus').textContent = `ë§ˆì§€ë§‰ ì €ì¥: ${new Date().toLocaleTimeString()}`;
            }
        }

        // ì£¼ê¸°ì  ìë™ ì €ì¥ (30ì´ˆë§ˆë‹¤)
        setInterval(autoSave, 30000);
    </script>
</body>
</html>
